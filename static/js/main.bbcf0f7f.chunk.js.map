{"version":3,"sources":["Assets/Icons/search-24px.svg","App.js","reportWebVitals.js","index.js"],"names":["API_KEY","process","URL","App","state","results","nominations","errorSearch","searchInput","handleSearch","event","preventDefault","searchQuery","target","search","value","axios","get","then","res","data","Search","setState","Error","catch","err","console","log","handleNominate","movieID","thisMovie","find","movie","imdbID","length","window","scrollTo","handleRemove","filter","nominationList","localStorage","getItem","this","JSON","parse","prevProps","prevState","submit","setItem","stringify","className","onSubmit","src","searchIcon","alt","type","name","placeholder","map","Title","Year","disabled","item","onClick","uniqid","Component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.bbcf0f7f.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/search-24px.5317dd0d.svg\";","import React, { Component } from 'react';\nimport axios from \"axios\";\nimport './App.scss';\nimport searchIcon from \"./Assets/Icons/search-24px.svg\";\nimport uniqid from 'uniqid';\n\nconst API_KEY = process.env.REACT_APP_API_KEY;\nconst URL = process.env.REACT_APP_API_SERVER;\n\n\nexport default class App extends Component {\n  state = {\n    results: [],\n    nominations: [],\n    errorSearch: null,\n    searchInput: '',\n  }\n\n  handleSearch = (event) => {\n    event.preventDefault();\n    let searchQuery = event.target.search.value;\n    if(searchQuery !== '') {\n      axios.get(`${URL}${searchQuery}&apikey=${API_KEY}`)\n      .then(res => {\n        if(res.data.Search) {\n          this.setState({\n            results: res.data.Search,\n            searchInput: searchQuery\n          })\n        } else {\n          this.setState({\n            errorSearch: `${res.data.Error} Please try something more specific!`,\n            searchInput: searchQuery,\n          });\n        }\n      })\n      .catch(err => {\n        console.log(err)\n      });\n    }\n  }\n  \n  handleNominate = (movieID) => {\n    let thisMovie = this.state.results.find(movie => movie.imdbID === movieID);\n    this.setState({\n      nominations: [...this.state.nominations, thisMovie]\n    })\n    if(this.state.nominations.length === 4) {\n      window.scrollTo(0, 0);\n    }\n  }\n\n  handleRemove = (movieID) => {\n    this.setState({\n      nominations: this.state.nominations.filter(movie => movie.imdbID !== movieID)\n    })\n  }\n\n  componentDidMount() {\n    const nominationList = localStorage.getItem(\"nominations\");\n    if (nominationList !== null) {\n      this.setState({\n        nominations: JSON.parse(nominationList)\n      })\n    } \n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    // this will make sure to reset the result list if there is any error from the search results\n    if(prevState.errorSearch !== this.state.errorSearch && this.state.errorSearch !== null) {\n      this.setState({\n        results: [],\n        submit: false\n      })\n    }\n    if (prevState.nominations !== this.state.nominations) {\n      localStorage.setItem(\"nominations\", JSON.stringify(this.state.nominations));\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"shoppies\">\n        <h1 className=\"shoppies__title\">The Shoppies</h1>\n        <div className=\"shoppies__header\">\n          <form className=\"shoppies__search-form\" onSubmit={this.handleSearch} >\n            <label className=\"shoppies__search-label\">MOVIE TITLE</label>\n            <div className=\"shoppies__search-bar\">\n              <img src={searchIcon} alt=\"Search Icon\" className=\"shoppies__search-icon\"/>\n              <input \n                type=\"text\" \n                name=\"search\"\n                placeholder=\"Search here...\" \n                className=\"shoppies__search-input\"\n              />\n            </div>\n          </form>\n        </div>\n\n        {this.state.nominations.length === 5 && \n        <div className=\"shoppies__notification-banner\">\n          <h2 className=\"shoppies__notification-content\">You're finished! Thank you for your participation!</h2>\n        </div>}\n\n        <div className=\"shoppies__body\">\n          <div className=\"shoppies__body-results\">\n            <h2 className=\"shoppies__results-title\">Results {(this.state.results.length !== 0 || this.state.errorSearch !== null) ? `for \"${this.state.searchInput}\"` : ''}</h2>\n            <ul className=\"shoppies__results-list\">\n              {(this.state.results.length === 0 && this.state.errorSearch !== null) && <p className=\"shoppies__results-content shoppies__result-error\">{this.state.errorSearch}</p> }\n              {(this.state.results.length === 0 && this.state.errorSearch === null) ? <p className=\"shoppies__results-content\">No results</p> \n              : this.state.results.map(movie => \n              <li className=\"shoppies__result-item\" key={uniqid()}>\n                <p className=\"shoppies__result-content\">{movie.Title} ({movie.Year})</p>\n                <button \n                  className=\"shoppies__nominate-button\" \n                  disabled={this.state.nominations.find(item => item.imdbID === movie.imdbID)\n                    || this.state.nominations.length === 5 ? true : false}\n                  onClick={() => this.handleNominate(movie.imdbID)}\n                >\n                  Nominate\n                </button>\n              </li>)}\n            </ul>\n          </div>\n\n          <div className=\"shoppies__body-nominations\">\n            <h2 className=\"shoppies__nominations-list\">Nominations</h2>\n            <ul className=\"shoppies__nominations-list\">\n              {this.state.nominations.length === 0 ? <p className=\"shoppies__nominations-content\">No nominations yet</p>\n              : this.state.nominations.map(movie => \n              <li className=\"shoppies__nominations-item\" key={uniqid()}>\n                <p className=\"shoppies__nominations-content\">{movie.Title} ({movie.Year})</p>\n                <button \n                  className=\"shoppies__remove-button\"\n                  onClick={() => this.handleRemove(movie.imdbID)}\n                >\n                  Remove\n                </button>\n              </li>)}\n            </ul>\n          </div>\n          \n        </div>\n      </div>\n    )\n  }\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nreportWebVitals();\n"],"sourceRoot":""}