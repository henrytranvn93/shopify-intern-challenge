(this["webpackJsonpshopify-intern-challenge"]=this["webpackJsonpshopify-intern-challenge"]||[]).push([[0],{25:function(e,t,s){},43:function(e,t,s){},45:function(e,t,s){"use strict";s.r(t);var n=s(2),i=s.n(n),a=s(14),o=s.n(a),c=(s(25),s(18)),r=s(15),l=s(16),h=s(20),p=s(19),m=s(17),u=s.n(m),d=(s(43),s.p+"static/media/search-24px.5317dd0d.svg"),j=s(4),b=s.n(j),_=s(0),f="a059aef",O="http://www.omdbapi.com/?s=",N=function(e){Object(h.a)(s,e);var t=Object(p.a)(s);function s(){var e;Object(r.a)(this,s);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).state={results:[],nominations:[],errorSearch:null,searchInput:""},e.handleSearch=function(t){t.preventDefault();var s=t.target.search.value;""!==s&&u.a.get("".concat(O).concat(s,"&apikey=").concat(f)).then((function(t){t.data.Search?e.setState({results:t.data.Search,searchInput:s}):e.setState({errorSearch:"".concat(t.data.Error," Please try something more specific!"),searchInput:s})})).catch((function(e){console.log(e)}))},e.handleNominate=function(t){var s=e.state.results.find((function(e){return e.imdbID===t}));e.setState({nominations:[].concat(Object(c.a)(e.state.nominations),[s])}),4===e.state.nominations.length&&window.scrollTo(0,0)},e.handleRemove=function(t){e.setState({nominations:e.state.nominations.filter((function(e){return e.imdbID!==t}))})},e}return Object(l.a)(s,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("nominations");null!==e&&this.setState({nominations:JSON.parse(e)})}},{key:"componentDidUpdate",value:function(e,t){t.errorSearch!==this.state.errorSearch&&null!==this.state.errorSearch&&this.setState({results:[],submit:!1}),t.nominations!==this.state.nominations&&localStorage.setItem("nominations",JSON.stringify(this.state.nominations))}},{key:"render",value:function(){var e=this;return Object(_.jsxs)("div",{className:"shoppies",children:[Object(_.jsx)("h1",{className:"shoppies__title",children:"The Shoppies"}),Object(_.jsx)("div",{className:"shoppies__header",children:Object(_.jsxs)("form",{className:"shoppies__search-form",onSubmit:this.handleSearch,children:[Object(_.jsx)("label",{className:"shoppies__search-label",children:"MOVIE TITLE"}),Object(_.jsxs)("div",{className:"shoppies__search-bar",children:[Object(_.jsx)("img",{src:d,alt:"Search Icon",className:"shoppies__search-icon"}),Object(_.jsx)("input",{type:"text",name:"search",placeholder:"Search here...",className:"shoppies__search-input"})]})]})}),5===this.state.nominations.length&&Object(_.jsx)("div",{className:"shoppies__notification-banner",children:Object(_.jsx)("h2",{className:"shoppies__notification-content",children:"You're finished! Thank you for your participation!"})}),Object(_.jsxs)("div",{className:"shoppies__body",children:[Object(_.jsxs)("div",{className:"shoppies__body-results",children:[Object(_.jsxs)("h2",{className:"shoppies__results-title",children:["Results ",0!==this.state.results.length||null!==this.state.errorSearch?'for "'.concat(this.state.searchInput,'"'):""]}),Object(_.jsxs)("ul",{className:"shoppies__results-list",children:[0===this.state.results.length&&null!==this.state.errorSearch&&Object(_.jsx)("p",{className:"shoppies__results-content shoppies__result-error",children:this.state.errorSearch}),0===this.state.results.length&&null===this.state.errorSearch?Object(_.jsx)("p",{className:"shoppies__results-content",children:"No results"}):this.state.results.map((function(t){return Object(_.jsxs)("li",{className:"shoppies__result-item",children:[Object(_.jsxs)("p",{className:"shoppies__result-content",children:[t.Title," (",t.Year,")"]}),Object(_.jsx)("button",{className:"shoppies__nominate-button",disabled:!(!e.state.nominations.find((function(e){return e.imdbID===t.imdbID}))&&5!==e.state.nominations.length),onClick:function(){return e.handleNominate(t.imdbID)},children:"Nominate"})]},b()())}))]})]}),Object(_.jsxs)("div",{className:"shoppies__body-nominations",children:[Object(_.jsx)("h2",{className:"shoppies__nominations-list",children:"Nominations"}),Object(_.jsx)("ul",{className:"shoppies__nominations-list",children:0===this.state.nominations.length?Object(_.jsx)("p",{className:"shoppies__nominations-content",children:"No nominations yet"}):this.state.nominations.map((function(t){return Object(_.jsxs)("li",{className:"shoppies__nominations-item",children:[Object(_.jsxs)("p",{className:"shoppies__nominations-content",children:[t.Title," (",t.Year,")"]}),Object(_.jsx)("button",{className:"shoppies__remove-button",onClick:function(){return e.handleRemove(t.imdbID)},children:"Remove"})]},b()())}))})]})]})]})}}]),s}(n.Component),x=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,46)).then((function(t){var s=t.getCLS,n=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;s(e),n(e),i(e),a(e),o(e)}))};o.a.render(Object(_.jsx)(i.a.StrictMode,{children:Object(_.jsx)(N,{})}),document.getElementById("root")),x()}},[[45,1,2]]]);
//# sourceMappingURL=main.bbcf0f7f.chunk.js.map